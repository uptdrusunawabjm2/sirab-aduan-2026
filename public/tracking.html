<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Tracking Pengaduan</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-950 text-white p-4 max-w-xl mx-auto">

<h1 class="text-2xl font-bold mb-4 text-center">Tracking Pengaduan</h1>

<div class="flex gap-2 mb-4">
<input id="ticket" placeholder="Masukkan Nomor Tiket" class="w-full p-2 rounded bg-slate-800">
<button onclick="cek()" class="bg-blue-600 px-4 rounded">CEK</button>
</div>

<div id="hasil" class="bg-slate-800 p-4 rounded hidden"></div>
<p id="msg" class="text-center text-red-400"></p>

<script>
const API="ISI_URL_WEBAPP_ANDA";

async function cek(){
  hasil.classList.add("hidden");
  msg.innerText="Mencari tiket...";

  let r = await fetch(API+"?ticket="+ticket.value.trim());
  let j = await r.json();

  if(!j.found){
    msg.innerText="‚ùå Nomor tiket tidak ditemukan";
    return;
  }

  let d = j.data;
  msg.innerText="";
  hasil.classList.remove("hidden");

  let warna = d[10]=="MASUK"?"text-red-400":d[10]=="PROSES"?"text-yellow-400":"text-green-400";

  hasil.innerHTML = `
  <p><b>No Tiket:</b> ${d[1]}</p>
  <p><b>Nama:</b> ${d[3]}</p>
  <p><b>Rusun:</b> ${d[2]}</p>
  <p><b>Unit:</b> ${d[4]}</p>
  <p><b>Laporan:</b> ${d[5]}</p>
  <p><b>Status:</b> <span class="${warna} font-bold">${d[10]}</span></p>
  ${d[7]?`<p><a class="text-blue-400 underline" target="_blank" href="${d[7]}">Lihat Foto</a></p>`:""}
  `;
}
</script>
</body>
</html>
